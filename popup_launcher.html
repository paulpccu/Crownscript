<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Launching...</title>
 <script>
    function openPopup() {
        let targetURL = "https://paulpccu.github.io/Crownscript/posat4t.html";
        let params = new URLSearchParams(window.location.search);
        let queryParams = [];

        for (let [key, value] of params.entries()) {
            queryParams.push(key + "=" + encodeURIComponent(value));
        }

        if (queryParams.length > 0) {
            targetURL += "?" + queryParams.join("&");
        }

        // Debugging - Show the final URL before opening
        document.write("<p>Opening Popup with URL: <br>" + targetURL + "</p>");

        // Open in a new tab
        window.open(targetURL, "_blank");

        // Close the popup launcher after 1 second
        setTimeout(() => window.close(), 1000);
    }

    window.onload = openPopup;
</script>

</head>
<body>
    <p>If the popup didn't open, please allow popups for this site.</p>
</body>
</html>
